---
title: "De Gruyter Skeleton"
author: Ben Baumer, Brian Macdonald
date: '`r format(Sys.time())`'
abstract: 'This is a template for writing articles for De Gruyter journals such as Journal of Quantitative Analysis in Sports.'
keywords: 'De Gruyter, R Markdown, JQAS'
bibliography: bibliography.bib
output: 
  rticles::degruyter_article:
    includes:
       before_body:
        ## in_header: preamble.tex ## put extra packages and custom commands here
  pdf_document:
     includes:
       before_body:
         #in_header: preamble.tex
     keep_tex: yes
     latex_engine: pdflatex
     number_sections: yes
     toc: yes
     toc_depth: 3
  html_document:
    number_sections: yes
    toc: yes
    toc_depth: 3
link-citations: yes
linkcolor: blue
urlcolor: blue
citecolor: blue
toccolor: blue
---

```{r knitr_options, echo=FALSE}
library(knitr)
library(tidyverse)
library(viridis)
library(scales)
opts_chunk$set(fig.align='center', warning = FALSE, message = F, echo = FALSE, include=T)

# define default formatting that can be used in all figures.
## use bw theme, make some modifications, then set as default theme
att.theme = theme_bw() + theme(text=element_text(size=11))  
theme_set(att.theme)

```

```{r}
## This chunk is optional and can be removed, but you may want to keep it since it helps make your figures more colorblind-friendly.
##
##
## Here we defines a colorblind friendly color palette for categorical variables
## from https://jacksonlab.agronomy.wisc.edu/2016/05/23/15-level-colorblind-friendly-palette/
## and set the default continuous color palette to a
## colorblind friendly palette from the package viridis
cb.pal =  c("#000000","#004949","#009292","#ff6db6","#ffb6db",
            "#490092","#006ddb","#b66dff","#6db6ff","#b6dbff",
            "#920000","#924900","#db6d00","#24ff24","#ffff6d")
#pie(rep(1,15), col=cb.pal) ## displays the colors

## replace the yellow with gray, since yellow is almost impossible to see on white paper.
cb.pal[15] = 'lightgray'

## remove the dark green.  It's too close to black when only two colors are needed.
cb.pal = cb.pal[-2]
n.cb = length(cb.pal)
#pie(rep(1,n.cb), col=cb.pal) ## displays the colors

## in case there are more than n.cb categories, repeat the colors, and add different shapes
cb.pal = rep(cb.pal, 5)

## This gives n circles, triangles, squares, upside down triangles, and diamonds
shapes = c(rep(21, n.cb), rep(24, n.cb), rep(22, n.cb), rep(25, n.cb), rep(23,n.cb))

## Use those to change the default color/fill/shape scales. Found this here:
## https://stackoverflow.com/questions/26019984/hot-to-change-set-global-scale-aesthetics-colours-for-ggplot
## Also, change the default continuous color palette to viridis.
## Note: Comment these out to use default color scales.
scale_colour_discrete   <- function(...) scale_color_manual(values=cb.pal) ## gotta use u in colour
scale_fill_discrete     <- function(...) scale_fill_manual( values=cb.pal)
scale_shape_discrete    <- function(...) scale_shape_manual(values=shapes)
scale_colour_continuous <- function(...) scale_color_viridis()
```

# Introduction

This should be the first section of your document. The title, author, abstract, etc., will be entered elsewhere.  Even if you list that information in the header above, the title page will not appear in this .pdf document.

** **Note: Please see the YAML header of this file for information about front matter and for an easy way to reformat your article for submitting to Arxiv.  For further details, see `?degruyter_article`.** **

Your text goes here. Start with the first section or paragraph of your
article. Do not set use either headers or footers and do not set any running
heads or change any page numbers.

The title page along with headers and footers will be inserted by the EdiKit
system. Use the ``revise manuscript'' link to enter this information in the
EdiKit system. 

Citations: [@lamport; @mittelbach; @oetiker]. [@mittelbach] is highly recommended. 

Use the \verb+thebibliography+ environment for the references.  BibTeX users may
use the provided BibTeX style file DeGruyter.bst.

# References
